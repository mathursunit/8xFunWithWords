
:root{
  --bg:#f6f6f7;
  --panel:#ffffff;
  --ink:#222;
  --muted:#666;
  --tile:#e9edf1;
  --tile-border:#d9dde2;
  --accent:#2a94ff;
  --accent-ink:#fff;
  --good:#66bb6a;
  --ok:#f1c40f;
  --bad:#9aa0a6;
  --kbd-bg:#eef1f5;
  --kbd-ink:#1f2937;
  --kbd-key:#e9edf1;
  --kbd-border:#d9dde2;
  --shadow:0 2px 10px rgba(0,0,0,.08);
}
[data-theme="dark"]{
  --bg:#0f1115;
  --panel:#141821;
  --ink:#f2f4f7;
  --muted:#aab2c0;
  --tile:#1a2030;
  --tile-border:#293142;
  --accent:#73b7ff;
  --accent-ink:#0b1220;
  --good:#3fbf74;
  --ok:#d4b21a;
  --bad:#6b7280;
  --kbd-bg:#0f131d;
  --kbd-ink:#e8ecf4;
  --kbd-key:#1a2030;
  --kbd-border:#2a3447;
  --shadow:0 2px 10px rgba(0,0,0,.35);
}
*{box-sizing:border-box}
body{
  margin:0;background:var(--bg);color:var(--ink);
  font-family:system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji", "Segoe UI Symbol";
}
header{
  position:sticky;top:0;z-index:50;background:var(--panel);
  box-shadow:var(--shadow);
}
.header-inner{
  max-width:1200px;margin:0 auto;padding:10px 12px;display:flex;gap:16px;align-items:center;justify-content:space-between;
}
.brand{display:flex;gap:10px;align-items:center;min-width:0}
.brand img{height:32px;width:auto;display:block}
.tagline{font-size:14px;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.actions{display:flex;gap:10px;align-items:center;flex-shrink:0}
.badge{font-size:12px;color:var(--muted);border:1px solid var(--kbd-border);padding:4px 8px;border-radius:8px;background:var(--panel)}

.btn{border:1px solid var(--kbd-border);background:var(--panel);padding:6px 10px;border-radius:10px;cursor:pointer;color:var(--ink)}
.btn[aria-pressed="true"]{background:var(--accent);color:var(--accent-ink);border-color:transparent}

main{max-width:1200px;margin:16px auto 120px;padding:0 12px;}

.boards{display:grid;grid-template-columns:repeat(4,1fr);gap:18px}
@media(max-width:1000px){.boards{grid-template-columns:repeat(2,1fr);}}
@media(max-width:600px){.boards{grid-template-columns:1fr;}}

.board{background:var(--panel);border-radius:16px;padding:14px;box-shadow:var(--shadow)}
.board h3{margin:0 0 8px 0;font-size:18px}
.grid{display:grid;grid-template-columns:repeat(5,1fr);gap:10px}
.tile{
  height:44px;border-radius:10px;background:var(--tile);border:1px solid var(--tile-border);
  display:flex;align-items:center;justify-content:center;font-weight:700;font-size:20px;color:var(--ink);
}
.tile.good{background:var(--good);color:#fff;border-color:transparent}
.tile.ok{background:var(--ok);color:#111;border-color:transparent}
.tile.bad{background:var(--bad);color:#fff;border-color:transparent}
.tile.ghost{background:var(--tile);color:var(--muted);opacity:.7}

/* Sticky bottom area */
.bottom-wrap{
  position:fixed;left:0;right:0;bottom:0;
  padding-bottom: env(safe-area-inset-bottom);
  background:linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.04) 30%, rgba(0,0,0,.08) 100%);
}
.navbar{
  display:flex;gap:8px;justify-content:center;padding:6px 8px 4px;
}
.navbtn{
  min-width:40px;line-height:36px;border-radius:10px;background:var(--panel);border:1px solid var(--kbd-border);
  text-align:center;font-weight:700;color:var(--ink);cursor:pointer;
}
.navbtn.active{outline:3px solid var(--accent)}
.navbtn.solved{background:var(--good);color:#fff;border-color:transparent}

/* On-screen keyboard */
.kb{
  background:var(--kbd-bg);border-top:1px solid var(--kbd-border);
  padding:10px 10px 12px;
  box-shadow:0 -10px 20px rgba(0,0,0,.08);
}
.kb-row{display:flex;gap:8px;justify-content:center;margin:6px 0}
.key{
  height:48px;min-width:44px;border-radius:10px;background:var(--kbd-key);border:1px solid var(--kbd-border);
  box-shadow:var(--shadow);display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--kbd-ink);
  cursor:pointer;user-select:none;padding:0 10px;
}
.key.wide{min-width:96px}
.key.back{min-width:56px}

.toast{
  position:fixed;inset:0;display:flex;align-items:center;justify-content:center;z-index:9999;
}
.toast .card{
  background:var(--panel);color:var(--ink);border:1px solid var(--kbd-border);border-radius:14px;min-width:280px;max-width:90vw;
  padding:16px 18px;box-shadow:var(--shadow);position:relative;
}
.toast .close{
  position:absolute;top:8px;right:10px;border:none;background:transparent;color:var(--muted);font-size:20px;cursor:pointer;
}
.hidden{display:none}
